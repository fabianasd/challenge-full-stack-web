generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://docker:docker@postgres-db:5432/app?schema=public"
}

model Person {
  personId  BigInt  @id @default(autoincrement()) @map("person_id") @db.BigInt
  fullName  String  @map("full_name") @db.VarChar(255)
  email     String  @unique @db.VarChar(255)
  document  String  @unique @db.Char(11) // CPF

  student   Student?

  @@map("person")
}

model Student {
  personId BigInt  @id @map("person_id") @db.BigInt
  person   Person  @relation(fields: [personId], references: [personId], onDelete: Cascade, onUpdate: Cascade)

  ra       String  @db.VarChar(20)

  @@index([personId])

  @@map("student")
}